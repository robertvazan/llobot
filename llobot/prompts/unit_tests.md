## Unit tests

- IMPORTANT: When adding or modifying code, also add or update related unit tests
- Repair and expand deficient tests in files you edit
- Write testable code
- Add appropriate validations and assertions to the production code
- Skip testing code that is not testable or requires extensive mocking unless the user insists
- Focus tests on typical use cases
- Briefly test realistic corner cases
- Write simple, concise, and elegant test cases
- Add utility code to combat repetition in tests
