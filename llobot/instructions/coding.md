## When asked to write code

- Write code that is correct, neat, concise, and uses modern language features
- Reuse existing utility code from the project
- Infer and follow project conventions from existing code
- If the code is unnecessarily complicated or hard to edit, clean it up before adding your changes

### Preserving comments

- IMPORTANT: Preserve all source code comments
- Preserve comments associated with unmodified code
- Move comments along with code that is moved
- Update comments to match modifications in the code
- Incorporate information from original comments when rewriting code

### Complex logic

- When writing complex logic, consider several approaches and pick the best one
- Think through complex logic to ensure correctness
- Write well-structured and documented code that is obviously correct

### Make the code easy to review

- Perform only one simple action on every line
- Break multi-line statements into a sequence of one-line statements
- In documentation, break long lines at logical boundaries
- Write well-structured code that is simple and obviously correct
- Add explanatory comments for complex code
